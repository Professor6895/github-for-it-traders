(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{LwD4:function(t,r,e){"use strict";e.r(r);var s=e("o0o1"),a=e.n(s);function i(t,r,e,s,a,i,o){try{var n=t[i](o),d=n.value}catch(t){return void e(t)}n.done?r(d):Promise.resolve(d).then(s,a)}function o(t){return function(){var r=this,e=arguments;return new Promise((function(s,a){var o=t.apply(r,e);function n(t){i(o,s,a,n,d,"next",t)}function d(t){i(o,s,a,n,d,"throw",t)}n(void 0)}))}}var n={data:function(){return{order_id:"",order:{},order_loading:!0,order_detail_popup:!1}},mounted:function(){this.order_id=this.$route.params.id,this.fetchOrderDetail()},methods:{fetchOrderDetail:function(){var t=this;return o(a.a.mark((function r(){var e;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.order_loading=!0,r.prev=1,r.next=4,t.$http.get("/api/admin/orders/".concat(t.order_id,"/get-order-detail"));case 4:(e=r.sent).data.success&&(t.order=e.data.data),r.next=13;break;case 8:if(r.prev=8,r.t0=r.catch(1),t.errorNotification("Something went wrong! Please retry!!"),404!==r.t0.response.status){r.next=13;break}return r.abrupt("return",t.$router.push({name:"page-error-404"}));case 13:return r.prev=13,t.order_loading=!1,r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[1,8,13,16]])})))()},updateOrderDetail:function(){var t=this;return o(a.a.mark((function r(){var e,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.$vs.loading({container:"#loading--container"}),r.prev=1,e={status:t.order.status,notify_user:t.order.notify_user,notify_via_email:t.order.notify_via_email,notify_via_sms:t.order.notify_via_sms},r.next=5,t.$http.post("/api/admin/orders/".concat(t.order_id,"/update-order-status"),e);case 5:(s=r.sent).data.success&&(t.successNotification(s.data.message),t.order_detail_popup=!1,t.fetchOrderDetail()),r.next=14;break;case 9:if(r.prev=9,r.t0=r.catch(1),t.errorNotification("Something went wrong! Please retry!!"),404!==r.t0.response.status){r.next=14;break}return r.abrupt("return",t.$router.push({name:"page-error-404"}));case 14:return r.prev=14,t.$vs.loading.close("#loading--container > .con-vs-loading"),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[1,9,14,17]])})))()},getOrderStatusColor:function(){switch(this.order.status){case 1:return"text-warning";case 2:return"text-success";case 3:return"text-priamry";case 4:return"text-success";case 5:return"text-danger";default:return""}}}},d=(e("tuF7"),e("KHd+")),v=Object(d.a)(n,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"vx-card p-4"},[t.order_loading?t._e():e("div",[e("vs-popup",{attrs:{title:"Order Detail",active:t.order_detail_popup},on:{"update:active":function(r){t.order_detail_popup=r}}},[e("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading--container"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full mb-4"},[e("vs-select",{staticClass:"w-full",attrs:{label:"Order Status"},model:{value:t.order.status,callback:function(r){t.$set(t.order,"status",r)},expression:"order.status"}},t._l([{text:"Placed",value:1},{text:"Confirmed",value:2},{text:"Dispatched",value:3},{text:"Completed",value:4},{text:"Canceled",value:5}],(function(t,r){return e("vs-select-item",{key:"order"+r,attrs:{value:t.value,text:t.text}})})),1),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("parent_id"),expression:"errors.has('parent_id')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("parent_id")))])],1),t._v(" "),1!==t.order.status?e("div",{staticClass:"vx-col w-full mb-4"},[e("vs-checkbox",{model:{value:t.order.notify_user,callback:function(r){t.$set(t.order,"notify_user",r)},expression:"order.notify_user"}},[t._v("Notify User")]),t._v(" "),t.order.notify_user?e("vs-checkbox",{staticClass:"mt-2",model:{value:t.order.notify_via_email,callback:function(r){t.$set(t.order,"notify_via_email",r)},expression:"order.notify_via_email"}},[t._v("Via Email")]):t._e(),t._v(" "),t.order.notify_user?e("vs-checkbox",{staticClass:"mt-2",model:{value:t.order.notify_via_sms,callback:function(r){t.$set(t.order,"notify_via_sms",r)},expression:"order.notify_via_sms"}},[t._v("Via SMS")]):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"vx-col w-full"},[e("vs-button",{staticClass:"mr-3 mt-5",attrs:{size:"small"},on:{click:t.updateOrderDetail}},[t._v("Submit")])],1)])])]),t._v(" "),e("div",[e("div",{staticClass:"vx-row mb-4"},[e("div",{staticClass:"vx-col w-1/2"},[e("p",[e("strong",[t._v("Order Status")]),t._v(" :\n\n            "),e("span",{class:t.getOrderStatusColor()},[t._v(t._s(this.order.order_status))])]),t._v(" "),e("p",{staticClass:"mt-2"},[e("strong",[t._v("Invoice Number")]),t._v(" :\n            "),e("i",[t._v("#"+t._s(t.order.invoice_number))])])]),t._v(" "),e("div",{staticClass:"vx-col w-1/2"},[e("vs-button",{staticClass:"float-right",attrs:{color:"warning",size:"small",icon:"create"},on:{click:function(r){t.order_detail_popup=!0}}},[t._v("Edit Order")])],1)])]),t._v(" "),e("div",{staticClass:"vx-row mt-4"},[e("div",{staticClass:"vx-col md:w-1/3"},[e("div",{staticClass:"order-detail--wrapper p-3"},[e("h6",{staticClass:"mb-3"},[t._v("Order Details")]),t._v(" "),e("p",[e("strong",[t._v("Order Date")]),t._v(" :\n            "+t._s(t._f("date_format")(t.order.created_at,"MMMM Do YYYY, h:mm a"))+"\n          ")]),t._v(" "),e("p",{staticClass:"mt-2"},[e("strong",[t._v("Payment Method")]),t._v(" : "+t._s(t.order.payment_type)+"\n          ")])])]),t._v(" "),e("div",{staticClass:"vx-col md:w-1/3"},[e("div",{staticClass:"order-detail--wrapper p-3"},[e("h6",{staticClass:"mb-3"},[t._v("Customer Details")]),t._v(" "),e("p",[e("strong",[t._v("Full Name : ")]),t._v(" "+t._s(t.order.user.name))]),t._v(" "),e("p",[e("strong",[t._v("Email : ")]),t._v(" "+t._s(t.order.user.email))]),t._v(" "),e("p",[e("strong",[t._v("Contact : ")]),t._v(" "+t._s(t.order.user.contact_number))])])]),t._v(" "),e("div",{staticClass:"vx-col md:w-1/3"},[e("div",{staticClass:"order-detail--wrapper p-3"},[e("h6",{staticClass:"mb-3"},[t._v("Shipping Address")]),t._v(" "),e("p",[e("strong",[t._v("Full Name : ")]),t._v("\n            "+t._s(t.order.shipping_address.full_name)+"\n          ")]),t._v(" "),e("p",[e("strong",[t._v("Contact : ")]),t._v("\n            "+t._s(t.order.shipping_address.contact_number)+"\n          ")]),t._v(" "),e("p",[t._v("\n            "+t._s(t.order.shipping_address.province_detail.name)+",\n            "+t._s(t.order.shipping_address.district+" "+t.order.shipping_address.country)+"\n          ")]),t._v(" "),e("p",[e("strong",[t._v("City : ")]),t._v("\n            "+t._s(t.order.shipping_address.city)+" ("+t._s(t.order.shipping_address.landmark)+")\n          ")])])])]),t._v(" "),e("div",{staticClass:"vx-row mt-4"},[e("div",{staticClass:"vx-col w-full"},[e("vs-table",{attrs:{stripe:"",data:t.order.items,"max-items":"40"},scopedSlots:t._u([{key:"default",fn:function(r){var s=r.data;return t._l(s,(function(r,s){return e("vs-tr",{key:s,attrs:{data:r}},[e("vs-td",[e("img",{staticClass:"d-inline-block",attrs:{src:r.product.product_image.thumb,width:"40"}})]),t._v(" "),e("vs-td",[e("span",{staticClass:"d-inline-block"},[t._v(t._s(r.product.name))])]),t._v(" "),e("vs-td",[Object.keys(r.product_attributes).length?e("div",t._l(r.product_attributes,(function(r,s){return e("p",[e("strong",[t._v(t._s(s)+" : ")]),t._v(" "+t._s(r)+"\n                  ")])})),0):e("div",[t._v("---")])]),t._v(" "),e("vs-td",[t._v(" Rs. "+t._s(r.product_price)+" ")]),t._v(" "),e("vs-td",[t._v("\n                "+t._s(r.quantity)+"\n              ")]),t._v(" "),e("vs-td",[t._v(" Rs. "+t._s(r.product_price*r.quantity)+" ")])],1)}))}}],null,!1,739458615)},[e("template",{slot:"thead"},[e("vs-th",[t._v("Image")]),t._v(" "),e("vs-th",[t._v("Product")]),t._v(" "),e("vs-th",[t._v("Attribute")]),t._v(" "),e("vs-th",[t._v("Unit Price")]),t._v(" "),e("vs-th",[t._v("Qty")]),t._v(" "),e("vs-th",[t._v("Total")])],1)],2)],1)]),t._v(" "),e("div",{staticClass:"vx-row mt-3"},[e("div",{staticClass:"vx-col w-full md:w-2/3 text-right"}),t._v(" "),e("div",{staticClass:"vx-col w-full md:w-1/3"},[e("table",{staticClass:"order-price-table"},[e("tr",[e("th",[t._v("Order Total")]),t._v(" "),e("td",[t._v("Rs. "+t._s(t.order.order_total))])]),t._v(" "),e("tr",[e("th",[t._v("Shipping Cost")]),t._v(" "),e("td",[t._v("Rs. "+t._s(t.order.shipping_cost))])]),t._v(" "),e("tr",[e("th",[t._v("Grand Total")]),t._v(" "),e("td",[t._v("Rs. "+t._s(t.order.total))])])])])])],1)])}),[],!1,null,"4cdbf09a",null);r.default=v.exports},Lzn6:function(t,r,e){(t.exports=e("I1BE")(!1)).push([t.i,"[dir] .order-detail--wrapper[data-v-4cdbf09a]{border:1px solid #e5e5e5;border-radius:15px}.order-price-table[data-v-4cdbf09a]{font-size:20px}",""])},WXph:function(t,r,e){var s=e("Lzn6");"string"==typeof s&&(s=[[t.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,a);s.locals&&(t.exports=s.locals)},tuF7:function(t,r,e){"use strict";e("WXph")}}]);