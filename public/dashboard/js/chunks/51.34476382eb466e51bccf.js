(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"v6+0":function(e,a,t){"use strict";t.r(a);var s=t("o0o1"),r=t.n(s),n=t("uBql");function i(e,a,t,s,r,n,i){try{var l=e[n](i),o=l.value}catch(e){return void t(e)}l.done?a(o):Promise.resolve(o).then(s,r)}var l={data:function(){return{id:null,avatar_preview:null,vendor:{}}},mounted:function(){this.id=this.$route.params.id},methods:{savePage:function(){var e,a=this;return(e=r.a.mark((function e(){var t,s,i,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.$validator.validateAll();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,a.$vs.loading({container:"#loading--container"}),t={title:a.page.title,content:a.page.content,excerpt:a.page.excerpt,thumbnail:a.page.thumbnail,meta:JSON.stringify(a.page.meta)},s="/api/admin/pages",a.id&&(s="/api/admin/pages/".concat(a.id),t._method="PATCH"),i=Object(n.a)(t),e.next=13,a.$http.post(s,i);case 13:if(l=e.sent,a.successNotification(l.data.message),a.id){e.next=17;break}return e.abrupt("return",a.$router.push({name:"admin-page-detail",params:{id:l.data.page.id}}));case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),Object(n.e)(a.errors,e.t0),a.errorNotification("Something went wrong! Please retry!!");case 23:return e.prev=23,a.$vs.loading.close("#loading--container > .con-vs-loading"),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[5,19,23,26]])})),function(){var a=this,t=arguments;return new Promise((function(s,r){var n=e.apply(a,t);function l(e){i(n,s,r,l,o,"next",e)}function o(e){i(n,s,r,l,o,"throw",e)}l(void 0)}))})()},imageUploaded:function(){var e=this.$refs.vendor_avatar_image.files[0];this.avatar_preview=URL.createObjectURL(e),this.vendor.avatar=e},clearImage:function(){this.vendor.avatar=null,this.avatar_preview=null,this.$refs.vendor_avatar_image.value=""}}},o=t("KHd+"),v=Object(o.a)(l,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading--container"}},[t("div",{staticClass:"tab-text vx-row"},[t("div",{staticClass:"vx-col md:w-2/3 w-full mb-4"},[t("vx-card",[t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"name",label:"Vendor Name"},model:{value:e.vendor.name,callback:function(a){e.$set(e.vendor,"name",a)},expression:"vendor.name"}}),e._v(" "),e.errors.has("name")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col md:w-1/2 mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"email",type:"email",label:"Email"},model:{value:e.vendor.email,callback:function(a){e.$set(e.vendor,"email",a)},expression:"vendor.email"}}),e._v(" "),e.errors.has("email")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("email")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col md:w-1/2 mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"contact",type:"contact",label:"Contact"},model:{value:e.vendor.contct,callback:function(a){e.$set(e.vendor,"contct",a)},expression:"vendor.contct"}}),e._v(" "),e.errors.has("contact")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("contact")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"address",label:"Address"},model:{value:e.vendor.address,callback:function(a){e.$set(e.vendor,"address",a)},expression:"vendor.address"}}),e._v(" "),e.errors.has("address")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("address")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"inventory_location",label:"Inventory Location"},model:{value:e.vendor.inventory_location,callback:function(a){e.$set(e.vendor,"inventory_location",a)},expression:"vendor.inventory_location"}}),e._v(" "),e.errors.has("inventory_location")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("inventory_location")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"pan_no",label:"PAN / VAT Number."},model:{value:e.vendor.pan_no,callback:function(a){e.$set(e.vendor,"pan_no",a)},expression:"vendor.pan_no"}}),e._v(" "),e.errors.has("pan_no")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("pan_no")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("label",{staticClass:"vs-input--label",attrs:{for:""}},[e._v("Description")]),e._v(" "),t("q-editor",{model:{value:e.vendor.content,callback:function(a){e.$set(e.vendor,"content",a)},expression:"vendor.content"}}),e._v(" "),e.errors.has("content")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("content")))]):e._e()],1)])])],1),e._v(" "),t("div",{staticClass:"vx-col md:w-1/3 w-full mb-4"},[t("vx-card",{attrs:{title:"Avatar image"}},[t("div",{staticClass:"w-full mb-4"},[e.avatar_preview?t("div",{staticClass:"image-preview-container"},[t("div",{staticClass:"text-right float-right mr-10"},[t("vs-button",{staticClass:"image-remove--button",attrs:{radius:"",size:"small",color:"danger",type:"filled","icon-pack":"feather",icon:"icon-x"},on:{click:e.clearImage}})],1),e._v(" "),t("img",{attrs:{src:e.avatar_preview,alt:""}})]):e._e(),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"image|size:1024",expression:"'image|size:1024'"}],ref:"vendor_avatar_image",staticClass:"hidden",attrs:{type:"file",name:"avatar",accept:"image/*"},on:{change:e.imageUploaded}}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("avatar"),expression:"errors.has('avatar')"}],staticClass:"text-danger text-sm mb-3"},[e._v(e._s(e.errors.first("avatar")))]),e._v(" "),t("vs-button",{attrs:{color:"primary",type:"border",size:"small"},on:{click:function(a){return e.$refs.vendor_avatar_image.click()}}},[e._v("Avatar Image")])],1)]),e._v(" "),t("vx-card",{staticClass:"mt-3",attrs:{title:"Contact Person Info"}},[t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"full_name",label:"Full Name"},model:{value:e.vendor.full_name,callback:function(a){e.$set(e.vendor,"full_name",a)},expression:"vendor.full_name"}}),e._v(" "),e.errors.has("full_name")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("full_name")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"contact_person_phone",label:"Contact Number"},model:{value:e.vendor.contact_person_phone,callback:function(a){e.$set(e.vendor,"contact_person_phone",a)},expression:"vendor.contact_person_phone"}}),e._v(" "),e.errors.has("contact_person_phone")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("contact_person_phone")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"contact_person_address",label:"Address"},model:{value:e.vendor.contact_person_address,callback:function(a){e.$set(e.vendor,"contact_person_address",a)},expression:"vendor.contact_person_address"}}),e._v(" "),e.errors.has("contact_person_address")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("contact_person_address")))]):e._e()],1)])],1),e._v(" "),t("div",{staticClass:"vx-col w-full"},[t("vs-button",{attrs:{type:"relief",color:"primary"},on:{click:e.savePage}},[e._v("Save")])],1)])])}),[],!1,null,null,null);a.default=v.exports}}]);