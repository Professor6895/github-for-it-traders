(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"v6+0":function(e,a,t){"use strict";t.r(a);var s=t("o0o1"),r=t.n(s),n=t("uBql");function o(e,a,t,s,r,n,o){try{var i=e[n](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(s,r)}function i(e){return function(){var a=this,t=arguments;return new Promise((function(s,r){var n=e.apply(a,t);function i(e){o(n,s,r,i,l,"next",e)}function l(e){o(n,s,r,i,l,"throw",e)}i(void 0)}))}}var l={data:function(){return{id:null,avatar_preview:null,vendor:{}}},mounted:function(){this.id=this.$route.params.id,this.fetchVendor()},methods:{fetchVendor:function(){var e=this;return i(r.a.mark((function a(){var t;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.id){a.next=2;break}return a.abrupt("return");case 2:return e.$vs.loading({container:"#loading--container"}),a.prev=3,a.next=6,e.$http.get("/api/admin/vendors/".concat(e.id));case 6:(t=a.sent).data.success&&(e.vendor=t.data.data),a.next=15;break;case 10:if(a.prev=10,a.t0=a.catch(3),e.errorNotification("Something went wrong! Please retry!!"),404!==a.t0.response.status){a.next=15;break}return a.abrupt("return",e.$router.push({name:"page-error-404"}));case 15:return a.prev=15,e.$vs.loading.close("#loading--container > .con-vs-loading"),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[3,10,15,18]])})))()},saveVendor:function(){var e=this;return i(r.a.mark((function a(){var t,s,o,i;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$validator.validateAll();case 2:if(a.sent){a.next=5;break}return a.abrupt("return");case 5:return a.prev=5,e.$vs.loading({container:"#loading--container"}),t=e.vendor,s="/api/admin/vendors",e.id&&(s="/api/admin/vendors/".concat(e.id),t._method="PATCH"),o=Object(n.a)(t),a.next=13,e.$http.post(s,o);case 13:return i=a.sent,e.successNotification(i.data.message),a.abrupt("return",e.$router.push({name:"admin-vendors"}));case 18:a.prev=18,a.t0=a.catch(5),Object(n.e)(e.errors,a.t0),e.errorNotification("Something went wrong! Please retry!!");case 22:return a.prev=22,e.$vs.loading.close("#loading--container > .con-vs-loading"),a.finish(22);case 25:case"end":return a.stop()}}),a,null,[[5,18,22,25]])})))()},imageUploaded:function(){var e=this.$refs.vendor_avatar_image.files[0];this.avatar_preview=URL.createObjectURL(e),this.vendor.avatar=e},clearImage:function(){this.vendor.avatar=null,this.avatar_preview=null,this.$refs.vendor_avatar_image.value=""}}},v=t("KHd+"),c=Object(v.a)(l,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading--container"}},[t("div",{staticClass:"tab-text vx-row"},[t("div",{staticClass:"vx-col md:w-2/3 w-full mb-4"},[t("vx-card",[t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"name",label:"Vendor Name"},model:{value:e.vendor.name,callback:function(a){e.$set(e.vendor,"name",a)},expression:"vendor.name"}}),e._v(" "),e.errors.has("name")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col md:w-1/2 mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"email",type:"email",label:"Email"},model:{value:e.vendor.email,callback:function(a){e.$set(e.vendor,"email",a)},expression:"vendor.email"}}),e._v(" "),e.errors.has("email")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("email")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col md:w-1/2 mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"contact",type:"contact",label:"Contact"},model:{value:e.vendor.contact,callback:function(a){e.$set(e.vendor,"contact",a)},expression:"vendor.contact"}}),e._v(" "),e.errors.has("contact")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("contact")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"address",label:"Address"},model:{value:e.vendor.address,callback:function(a){e.$set(e.vendor,"address",a)},expression:"vendor.address"}}),e._v(" "),e.errors.has("address")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("address")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"inventory_location",label:"Inventory Location"},model:{value:e.vendor.inventory_location,callback:function(a){e.$set(e.vendor,"inventory_location",a)},expression:"vendor.inventory_location"}}),e._v(" "),e.errors.has("inventory_location")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("inventory_location")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4 md:w-1/2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"pan_no",label:"PAN / VAT Number."},model:{value:e.vendor.pan_no,callback:function(a){e.$set(e.vendor,"pan_no",a)},expression:"vendor.pan_no"}}),e._v(" "),e.errors.has("pan_no")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("pan_no")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4 md:w-1/2"},[t("label",{staticClass:"vs-input--label"},[e._v("Status")]),e._v(" "),t("vs-switch",{staticClass:"mt-3",attrs:{color:"success","vs-value":"1"},model:{value:e.vendor.status,callback:function(a){e.$set(e.vendor,"status",a)},expression:"vendor.status"}},[t("span",{attrs:{slot:"on"},slot:"on"},[e._v("Enabled")]),e._v(" "),t("span",{attrs:{slot:"off"},slot:"off"},[e._v("Disabled")])]),e._v(" "),e.errors.has("pan_no")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("pan_no")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("label",{staticClass:"vs-input--label",attrs:{for:""}},[e._v("Description")]),e._v(" "),t("q-editor",{model:{value:e.vendor.content,callback:function(a){e.$set(e.vendor,"content",a)},expression:"vendor.content"}}),e._v(" "),e.errors.has("content")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("content")))]):e._e()],1)])])],1),e._v(" "),t("div",{staticClass:"vx-col md:w-1/3 w-full mb-4"},[t("vx-card",{staticClass:"mt-3",attrs:{title:"Contact Person Info"}},[t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"full_name",label:"Full Name"},model:{value:e.vendor.full_name,callback:function(a){e.$set(e.vendor,"full_name",a)},expression:"vendor.full_name"}}),e._v(" "),e.errors.has("full_name")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("full_name")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"contact_person_phone",label:"Contact Number"},model:{value:e.vendor.contact_person_phone,callback:function(a){e.$set(e.vendor,"contact_person_phone",a)},expression:"vendor.contact_person_phone"}}),e._v(" "),e.errors.has("contact_person_phone")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("contact_person_phone")))]):e._e()],1),e._v(" "),t("div",{staticClass:"vx-col w-full mb-4"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"contact_person_address",label:"Address"},model:{value:e.vendor.contact_person_address,callback:function(a){e.$set(e.vendor,"contact_person_address",a)},expression:"vendor.contact_person_address"}}),e._v(" "),e.errors.has("contact_person_address")?t("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("contact_person_address")))]):e._e()],1)])],1),e._v(" "),t("div",{staticClass:"vx-col w-full"},[t("vs-button",{attrs:{type:"relief",color:"primary"},on:{click:e.saveVendor}},[e._v("Save")])],1)])])}),[],!1,null,null,null);a.default=c.exports}}]);