(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"5Dge":function(t,e){t.exports="/images/default-avatar.png?27b9408da668f335b85e9fe669908cab"},"6Hib":function(t,e,r){var a=r("u1u0");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,s);a.locals&&(t.exports=a.locals)},u1u0:function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,".each--order[data-v-5e621c95]{display:inline-block;width:100%}[dir] .each--order[data-v-5e621c95]{border:1px solid #e5e5e5;border-radius:10px;margin:4px 0}",""])},weUv:function(t,e,r){"use strict";r("6Hib")},yD0x:function(t,e,r){"use strict";r.r(e);var a=r("o0o1"),s=r.n(a);function n(t,e,r,a,s,n,o){try{var i=t[n](o),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(a,s)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(a,s){var o=t.apply(e,r);function i(t){n(o,a,s,i,c,"next",t)}function c(t){n(o,a,s,i,c,"throw",t)}i(void 0)}))}}var i={data:function(){return{loading:!0,orders:[],table_options:{current_page:1},search_keyword:"",order_items_popup:!1,order_items:[]}},mounted:function(){this.fetchOrders()},methods:{fetchOrders:function(){var t=this;return o(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading||t.$vs.loading({container:"#loading--container"}),e.prev=1,e.next=4,t.$http.get("/api/vendor/orders/get-orders",{params:{page:t.table_options.current_page,search:t.search_keyword}});case 4:r=e.sent,t.orders=r.data.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.errorNotification("Something went wrong!! Please retry");case 11:return e.prev=11,t.$vs.loading.close("#loading--container > .con-vs-loading"),t.loading=!1,e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[1,8,11,15]])})))()},getOrderStatus:function(t){switch(t){case 1:return"Pending";case 2:return"Confirmed";case 3:return"Dispatched";case 4:return"Completed";case 5:return"Cancelled";default:return""}},getOrderStatusColor:function(t){switch(t){case 1:return"text-warning";case 2:return"text-success";case 3:return"text-priamry";case 4:return"text-success";case 5:return"text-danger";default:return""}},showOrderItems:function(t){var e=this;return o(s.a.mark((function r(){var a;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$http.get("/api/vendor/orders/".concat(t,"/get-order-items"));case 3:a=r.sent,e.order_items=a.data.data,e.order_items_popup=!0,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),e.errorNotification("Something went wrong!! Please retry");case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},watch:{"table_options.current_page":function(){this.fetchOrders()}}},c=(r("weUv"),r("KHd+")),v=Object(c.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vs-popup",{staticClass:"popup-lg",attrs:{title:"Order Items",active:t.order_items_popup},on:{"update:active":function(e){t.order_items_popup=e}}},[a("vs-table",{attrs:{stripe:"",data:t.order_items,"max-items":"40",pagination:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return[a("tbody",t._l(r,(function(e,r){return a("vs-tr",{key:r,attrs:{data:e}},[a("vs-td",[a("img",{staticClass:"d-inline-block",attrs:{src:e.product.product_image.thumb,width:"60"}})]),t._v(" "),a("vs-td",[t._v(t._s(e.product.name))]),t._v(" "),a("vs-td",[Object.keys(e.product_attributes).length?a("div",t._l(e.product_attributes,(function(e,r){return a("p",[a("strong",[t._v(t._s(r)+" : ")]),t._v(" "+t._s(e)+"\n                ")])})),0):a("div",[t._v("---")])]),t._v(" "),a("vs-td",[t._v("\n              "+t._s(e.quantity)+"\n            ")]),t._v(" "),a("vs-td",[t._v("\n              Rs. "+t._s(e.product_price)+"\n            ")])],1)})),1)]}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v("Image")]),t._v(" "),a("vs-th",[t._v("Product Name")]),t._v(" "),a("vs-th",[t._v("Attributes")]),t._v(" "),a("vs-th",[t._v("Quantity")]),t._v(" "),a("vs-th",[t._v("Price")])],1)],2)],1),t._v(" "),t.loading?a("pageLoader"):a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"con-input-search vs-table--search"},[a("vs-input",{staticClass:"inline-block",model:{value:t.search_keyword,callback:function(e){t.search_keyword=e},expression:"search_keyword"}}),t._v(" "),a("vs-button",{attrs:{type:"filled",icon:"search"},on:{click:function(e){t.table_options.current_page=1,t.fetchOrders()}}})],1)]),t._v(" "),a("div",{staticClass:"vx-col w-full mt-2"},[a("vx-card",{staticClass:"card-padding-5 vs-con-loading__container",attrs:{id:"loading--container"}},[a("vs-table",{attrs:{search:"",stripe:"",data:t.orders,"max-items":"40",pagination:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return[a("tbody",t._l(s,(function(e,s){return a("vs-tr",{key:s,attrs:{data:e}},[a("vs-td",[a("i",[t._v("#"+t._s(e.invoice_number))])]),t._v(" "),a("vs-td",[a("vs-chip",[a("vs-avatar",{attrs:{color:"transparent",size:"50px",src:e.user.avatar?e.user.avatar_image.thumb:r("5Dge")}}),t._v("\n                    "+t._s(e.user.name)+"\n                  ")],1)],1),t._v(" "),a("vs-td",[t._v("\n                  "+t._s(t._f("title")(e.payment_type))+"\n                ")]),t._v(" "),a("vs-td",[t._v(" Rs. "+t._s(e.total)+" ")]),t._v(" "),a("vs-td",[a("span",{class:t.getOrderStatusColor(e.status)},[t._v(t._s(t.getOrderStatus(e.status)))])]),t._v(" "),a("vs-td",[t._v("\n                  "+t._s(t._f("date_format")(e.created_at,"timeago"))+"\n                ")]),t._v(" "),a("vs-td",[a("vs-button",{attrs:{size:"small"},on:{click:function(r){return t.showOrderItems(e.id)}}},[t._v("Show Order Items")])],1)],1)})),1)]}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v("Invoice Number")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"title"}},[t._v("Customer Name")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"title"}},[t._v("Payment Type")]),t._v(" "),a("vs-th",[t._v("Order Price")]),t._v(" "),a("vs-th",[t._v("Status")]),t._v(" "),a("vs-th",[t._v("Order Date")]),t._v(" "),a("vs-th",[t._v("Actions")])],1)],2)],1)],1)])],1)}),[],!1,null,"5e621c95",null);e.default=v.exports}}]);