/*! For license information please see 23.dcded81be66beff4737a.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"52V9":function(t,e,n){"use strict";n("Fjki")},Fjki:function(t,e,n){var r=n("LHLU");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(t.exports=r.locals)},LHLU:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"[dir] .menu-builder--area[data-v-77f85543]{border:1px solid #c4c4c4;border-radius:10px}",""])},R17s:function(t,e,n){"use strict";n.r(e);var r=n("Yn0t"),o=n("LvDl"),i=n.n(o);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function p(){}function f(){}function m(){}var v={};l(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==e&&n.call(g,o)&&(v=g);var b=m.prototype=p.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var r;this._invoke=function(o,i){function s(){return new e((function(r,s){!function r(o,i,s,u){var l=d(t[o],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==a(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,u)}))}u(l.arg)}(o,i,r,s)}))}return r=r?r.then(s,s):s()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=d(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return f.prototype=m,l(b,"constructor",m),l(m,"constructor",f),f.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(x.prototype),l(x.prototype,i,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}var c={data:function(){return{menuItemPopup:!1,menu:{menu_items:[]},menu_item:{},menu_item_update:{}}},components:{VueNestable:r.VueNestable,VueNestableHandle:r.VueNestableHandle},mounted:function(){this.id=this.$route.params.id,this.fetchMenu()},methods:{fetchMenu:function(){var t=this;return l(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return");case 2:return t.$vs.loading({container:"#loading--container"}),e.prev=3,e.next=6,t.$http.get("/api/admin/menus/".concat(t.id));case 6:(n=e.sent).data.success&&(t.menu=n.data.data),e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(3),t.errorNotification("Something went wrong! Please retry!!"),404!==e.t0.response.status){e.next=15;break}return e.abrupt("return",t.$router.push({name:"page-error-404"}));case 15:return e.prev=15,t.$vs.loading.close("#loading--container > .con-vs-loading"),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,10,15,18]])})))()},addItemToMenu:function(){var t=this;return l(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$validator.validateAll("menu-item");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:(n=i.a.cloneDeep(t.menu_item)).id="_"+Math.random().toString(36).substr(2,9),n.children=[],t.menu.menu_items.push(n),t.menu_item={};case 10:case"end":return e.stop()}}),e)})))()},removeMenuItem:function(t){var e=this;this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure you want to delete menu item?",accept:function(){var n=e.menu.menu_items,r=e;n.map((function(e,o){e.id===t.id?n.splice(o,1):e=r.removeFromTree(e,t.id)}))}})},removeFromTree:function(t,e){var n=this;return t.children=t.children.filter((function(t){return t.id!==e})).map((function(t){return n.removeFromTree(t,e)})),t},editMenuItem:function(t){this.menu_item_update=t,this.menuItemPopup=!0},saveMenu:function(){var t=this;return l(s().mark((function e(){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$validator.validateAll("menu");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,t.$vs.loading({container:"#loading--container"}),n={title:t.menu.title,menu_items:t.menu.menu_items},r="/api/admin/menus",t.id&&(r="/api/admin/menus/".concat(t.id),n._method="PATCH"),e.next=12,t.$http.post(r,n);case 12:if(!0!==(o=e.sent).data.success){e.next=19;break}if(t.successNotification(o.data.message),t.id){e.next=17;break}return e.abrupt("return",t.$router.push({name:"admin-menus"}));case 17:e.next=20;break;case 19:t.errorNotification(o.data.message);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),t.errorNotification("Something went wrong! Please retry!!");case 25:return e.prev=25,t.$vs.loading.close("#loading--container > .con-vs-loading"),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[5,22,25,28]])})))()}},watch:{menuItemPopup:function(t){t||(this.menu_item_update={})}}},d=(n("52V9"),n("KHd+")),h=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"vx-row vs-con-loading__container",attrs:{id:"loading--container"}},[e("div",{staticClass:"vx-col md:w-1/3 w-full"},[e("vx-card",{staticClass:"mb-4",attrs:{title:"Menu Configuration"}},[e("form",{attrs:{action:"","data-vv-scope":"menu-item"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"name",label:"Name"},model:{value:t.menu_item.name,callback:function(e){t.$set(t.menu_item,"name",e)},expression:"menu_item.name"}}),t._v(" "),t.errors.has("menu-item.name")?e("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("menu-item.name")))]):t._e()],1),t._v(" "),e("div",{staticClass:"vx-col w-full mt-4"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"link",label:"Link"},model:{value:t.menu_item.link,callback:function(e){t.$set(t.menu_item,"link",e)},expression:"menu_item.link"}}),t._v(" "),t.errors.has("menu-item.link")?e("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("menu-item.link")))]):t._e()],1),t._v(" "),e("div",{staticClass:"vx-col w-full mt-4"},[e("vs-checkbox",{model:{value:t.menu_item.open_new_tab,callback:function(e){t.$set(t.menu_item,"open_new_tab",e)},expression:"menu_item.open_new_tab"}},[t._v("Open in new tab")])],1),t._v(" "),e("div",{staticClass:"vx-col w-full"},[e("vs-button",{staticClass:"mt-4 float-right",attrs:{type:"border",size:"small"},on:{click:t.addItemToMenu}},[t._v("Add >>")])],1)])])])],1),t._v(" "),e("div",{staticClass:"vx-col md:w-2/3 w-full"},[e("vx-card",{staticClass:"mb-4"},[e("form",{attrs:{"data-vv-scope":"menu"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full mb-4"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"title",label:"Titles"},model:{value:t.menu.title,callback:function(e){t.$set(t.menu,"title",e)},expression:"menu.title"}}),t._v(" "),t.errors.has("menu.title")?e("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("menu.title")))]):t._e()],1),t._v(" "),e("div",{staticClass:"vx-col w-full"},[e("div",{staticClass:"menu-builder--area p-4"},[e("vue-nestable",{scopedSlots:t._u([{key:"default",fn:function(n){var r=n.item;return e("vue-nestable-handle",{attrs:{item:r}},[e("vs-icon",{staticClass:"nestable--handler-icon mr-2",attrs:{icon:"menu"}}),t._v("\n                  "+t._s(r.name)+"\n                  "),r.open_new_tab?e("small",[t._v("(New Tab)")]):t._e(),t._v(" "),e("vs-icon",{staticClass:"float-right text-xl cursor-pointer",attrs:{color:"danger",icon:"delete"},on:{click:function(e){return t.removeMenuItem(r)}}}),t._v(" "),e("vs-icon",{staticClass:"float-right mr-3 text-xl cursor-pointer",attrs:{color:"warning",icon:"edit"},on:{click:function(e){return t.editMenuItem(r)}}})],1)}}]),model:{value:t.menu.menu_items,callback:function(e){t.$set(t.menu,"menu_items",e)},expression:"menu.menu_items"}},[e("div",{attrs:{slot:"placeholder"},slot:"placeholder"},[e("div",{staticClass:"text-center mt-10 mb-10"},[e("b",[t._v("This list is empty")]),t._v(" "),e("p",[t._v("You can add items using form on left side.")])])])])],1)])])]),t._v(" "),e("div",{staticClass:"flex justify-between flex-row-reverse"},[e("vs-button",{staticClass:"mt-4 float-right",attrs:{size:"small",type:"border"},on:{click:t.saveMenu}},[t._v("Save")])],1)])],1),t._v(" "),e("vs-popup",{attrs:{title:"Menu Item",active:t.menuItemPopup},on:{"update:active":function(e){t.menuItemPopup=e}}},[e("form",{attrs:{action:"","data-vv-scope":"menu-item-update"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"name",label:"Name"},model:{value:t.menu_item_update.name,callback:function(e){t.$set(t.menu_item_update,"name",e)},expression:"menu_item_update.name"}}),t._v(" "),t.errors.has("menu-item-update.name")?e("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("menu-item-update.name")))]):t._e()],1),t._v(" "),e("div",{staticClass:"vx-col w-full mt-4"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"link",label:"Link"},model:{value:t.menu_item_update.link,callback:function(e){t.$set(t.menu_item_update,"link",e)},expression:"menu_item_update.link"}}),t._v(" "),t.errors.has("menu-item-update.link")?e("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("menu-item-update.link")))]):t._e()],1),t._v(" "),e("div",{staticClass:"vx-col w-full mt-4"},[e("vs-checkbox",{model:{value:t.menu_item_update.open_new_tab,callback:function(e){t.$set(t.menu_item_update,"open_new_tab",e)},expression:"menu_item_update.open_new_tab"}},[t._v("Open in new tab")])],1),t._v(" "),e("div",{staticClass:"vx-col w-full"},[e("vs-button",{staticClass:"mt-4 float-right",attrs:{type:"border",size:"small"},on:{click:function(e){t.menuItemPopup=!1}}},[t._v("Done")])],1)])])])],1)}),[],!1,null,"77f85543",null);e.default=h.exports},Yn0t:function(t,e,n){(function(t){!function(e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}var d={},h={methods:{registerNestable:function(t){var e=this._getByGroup(t.group);e.onDragStartListeners.push(t.onDragStart),e.onMouseEnterListeners.push(t.onMouseEnter),e.onMouseMoveListeners.push(t.onMouseMove)},notifyDragStart:function(t,e,n){var r,o=c(this._getByGroup(t).onDragStartListeners);try{for(o.s();!(r=o.n()).done;)(0,r.value)(e,n)}catch(t){o.e(t)}finally{o.f()}},notifyMouseEnter:function(t,e,n,r){var o,i=c(this._getByGroup(t).onMouseEnterListeners);try{for(i.s();!(o=i.n()).done;)(0,o.value)(e,n,r)}catch(t){i.e(t)}finally{i.f()}},notifyMouseMove:function(t,e){var n,r=c(this._getByGroup(t).onMouseMoveListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e)}catch(t){r.e(t)}finally{r.f()}},_getByGroup:function(t){return d[t]||(d[t]={onDragStartListeners:[],onMouseEnterListeners:[],onMouseMoveListeners:[],onDragStart:[],dragItem:null}),d[t]}}};function p(t,e,n,r,o,i,a,s,u,l){"boolean"!=typeof a&&(u=s,s=a,a=!1);const c="function"==typeof n?n.options:n;let d;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),r&&(c._scopeId=r),i?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=d):e&&(d=a?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),d)if(c.functional){const t=c.render;c.render=function(e,n){return d.call(n),t(e,n)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,d):[d]}return n}var f,m=p({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:t.itemClasses},[n("div",{staticClass:"nestable-item-content",on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,mousemove:t.onMouseMove}},[t._t("default",null,{index:t.index,item:t.item,isChild:t.isChild})],2),t._v(" "),t.hasChildren?n("ol",{staticClass:"nestable-list"},[t._l(t.item[t.options.childrenProp],(function(e,r){return[n("NestableItem",{key:e[t.keyProp],attrs:{item:e,index:r,options:t.options,"is-copy":t.isCopy,"is-child":""},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots),(function(e){return{key:e,fn:function(n){return[t._t(e,null,null,n)]}}}))],null,!0)})]}))],2):t._e()])},staticRenderFns:[]},void 0,{name:"NestableItem",mixins:[h],props:{item:{type:Object,required:!0,default:function(){return{}}},index:{type:Number,required:!1,default:null},isChild:{type:Boolean,required:!1,default:!1},isCopy:{type:Boolean,required:!1,default:!1},options:{type:Object,required:!0,default:function(){return{}}}},inject:["listId","group","keyProp"],data:function(){return{breakPoint:null,moveDown:!1}},computed:{isDragging:function(){var t=this.options.dragItem;return!this.isCopy&&t&&t[this.options.keyProp]===this.item[this.options.keyProp]},hasChildren:function(){return this.item[this.options.childrenProp]&&this.item[this.options.childrenProp].length>0},hasHandle:function(){return!!this.$scopedSlots.handler},normalizedClassProp:function(){var t=this.item[this.options.classProp];return t?Array.isArray(t)?t:("undefined"==typeof a||n(a),[t]):[]},itemClasses:function(){var t=this.isDragging?["is-dragging"]:[];return["nestable-item".concat(this.isCopy?"-copy":""),"nestable-item".concat(this.isCopy?"-copy":"","-").concat(this.item[this.options.keyProp])].concat(t,s(this.normalizedClassProp))}},methods:{onMouseEnter:function(t){if(this.options.dragItem){if(!t.movementY)return this.sendNotification(t);this.moveDown=t.movementY>0,this.breakPoint=t.target.getBoundingClientRect().height/2}},onMouseLeave:function(){this.breakPoint=null},onMouseMove:function(t){if(this.breakPoint){var e=t.offsetY-this.breakPoint;this.moveDown&&e<this.breakPoint/4||!this.moveDown&&e>-this.breakPoint/4||this.sendNotification(t)}},sendNotification:function(t){this.breakPoint=null;var e=this.item||this.$parent.item;this.notifyMouseEnter(this.group,t,this.listId,e)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),v=p({render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("div",{staticClass:"nestable-list-empty",on:{mouseenter:this.onMouseEnter}},[this._t("default")],2)])},staticRenderFns:[]},void 0,{name:"Placeholder",mixins:[h],props:{index:{type:Number,required:!1,default:null},options:{type:Object,required:!1,default:function(){return{}}}},inject:["listId","group"],computed:{isDragging:function(){return this.options.dragItem}},methods:{onMouseEnter:function(t){this.options.dragItem&&this.notifyMouseEnter(this.group,t,this.listId,null)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),y={methods:{getPathById:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value,r=[];return n.every((function(n,o){if(n[e.keyProp]===t)r.push(o);else if(n[e.childrenProp]){var i=e.getPathById(t,n[e.childrenProp]);i.length&&(r=r.concat(o).concat(i))}return 0===r.length})),r},getItemByPath:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value,r=null;return t.forEach((function(t){var o=r&&r[e.childrenProp]?r[e.childrenProp]:n;r=o[t]})),r},getItemDepth:function(t){var e=1;if(t[this.childrenProp]&&t[this.childrenProp].length>0){var n=t[this.childrenProp].map(this.getItemDepth);e+=Math.max.apply(Math,s(n))}return e},getSplicePath:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},o=e.numToRemove||0,i=e.itemsToInsert||[],a=t.length-1,u=n;return t.forEach((function(t,n){if(n===a)u.$splice=[[t,o].concat(s(i))];else{var l={};u[t]=r({},e.childrenProp,l),u=l}})),n},getRealNextPath:function(t,e){var n=t.length-1,r=e.length-1;if(t.length<e.length){var o=!1;return e.map((function(i,a){return o?a===r?i+1:i:"number"!=typeof t[a]?i:e[a]>t[a]&&a===n?(o=!0,i-1):i}))}if(t.length===e.length&&e[r]>t[r]){var i=this.getItemByPath(e);if(i[this.childrenProp]&&i[this.childrenProp].length&&!this.isCollapsed(i))return e.slice(0,-1).concat(e[r]-1).concat(0)}return e}}},g=function(e,n){return function(e,n){function r(t){return"object"!=typeof t||"toString"in t?t:Object.prototype.toString.call(t).slice(8,-1)}Object.defineProperty(n,"__esModule",{value:!0});var o="object"==typeof t&&!0;function i(t,e){if(!t){if(o)throw new Error("Invariant failed");throw new Error(e())}}n.invariant=i;var a=Object.prototype.hasOwnProperty,s=Array.prototype.splice,u=Object.prototype.toString;function l(t){return u.call(t).slice(8,-1)}var c=Object.assign||function(t,e){return d(e).forEach((function(n){a.call(e,n)&&(t[n]=e[n])})),t},d="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)};function h(t){return Array.isArray(t)?c(t.constructor(t.length),t):"Map"===l(t)?new Map(t):"Set"===l(t)?new Set(t):t&&"object"==typeof t?c(Object.create(Object.getPrototypeOf(t)),t):t}var p=function(){function t(){this.commands=c({},f),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var n=this,r="function"==typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(r)||i(!Array.isArray(r),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),i("object"==typeof r&&null!==r,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var o=t;return d(r).forEach((function(e){if(a.call(n.commands,e)){var i=t===o;o=n.commands[e](r[e],o,r,t),i&&n.isEquals(o,t)&&(o=t)}else{var s="Map"===l(t)?n.update(t.get(e),r[e]):n.update(t[e],r[e]),u="Map"===l(o)?o.get(e):o[e];n.isEquals(s,u)&&(void 0!==s||a.call(t,e))||(o===t&&(o=h(t)),"Map"===l(o)?o.set(e,s):o[e]=s)}})),o},t}();n.Context=p;var f={$push:function(t,e,n){return v(e,n,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,n){return v(e,n,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,o){return function(t,e){i(Array.isArray(t),(function(){return"Expected $splice target to be an array; got "+r(t)})),g(e.$splice)}(e,n),t.forEach((function(t){g(t),e===o&&t.length&&(e=h(o)),s.apply(e,t)})),e},$set:function(t,e,n){return function(t){i(1===Object.keys(t).length,(function(){return"Cannot have more than one key in an object with $set"}))}(n),t},$toggle:function(t,e){y(t,"$toggle");var n=t.length?h(e):e;return t.forEach((function(t){n[t]=!e[t]})),n},$unset:function(t,e,n,r){return y(t,"$unset"),t.forEach((function(t){Object.hasOwnProperty.call(e,t)&&(e===r&&(e=h(r)),delete e[t])})),e},$add:function(t,e,n,r){return b(e,"$add"),y(t,"$add"),"Map"===l(e)?t.forEach((function(t){var n=t[0],o=t[1];e===r&&e.get(n)!==o&&(e=h(r)),e.set(n,o)})):t.forEach((function(t){e!==r||e.has(t)||(e=h(r)),e.add(t)})),e},$remove:function(t,e,n,r){return b(e,"$remove"),y(t,"$remove"),t.forEach((function(t){e===r&&e.has(t)&&(e=h(r)),e.delete(t)})),e},$merge:function(t,e,n,o){var a,s;return a=e,i((s=t)&&"object"==typeof s,(function(){return"update(): $merge expects a spec of type 'object'; got "+r(s)})),i(a&&"object"==typeof a,(function(){return"update(): $merge expects a target of type 'object'; got "+r(a)})),d(t).forEach((function(n){t[n]!==e[n]&&(e===o&&(e=h(o)),e[n]=t[n])})),e},$apply:function(t,e){var n;return i("function"==typeof(n=t),(function(){return"update(): expected spec of $apply to be a function; got "+r(n)+"."})),t(e)}},m=new p;function v(t,e,n){i(Array.isArray(t),(function(){return"update(): expected target of "+r(n)+" to be an array; got "+r(t)+"."})),y(e[n],n)}function y(t,e){i(Array.isArray(t),(function(){return"update(): expected spec of "+r(e)+" to be an array; got "+r(t)+". Did you forget to wrap your parameter in an array?"}))}function g(t){i(Array.isArray(t),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(t)+". Did you forget to wrap your parameters in an array?"}))}function b(t,e){var n=l(t);i("Map"===n||"Set"===n,(function(){return"update(): "+r(e)+" expects a target of type Set or Map; got "+r(n)}))}n.isEquals=m.update.isEquals,n.extend=m.extend,n.default=m.update,n.default.default=e.exports=c(n.default,n)}(n={exports:{}},n.exports),n.exports}(),b=(f=g)&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f,_=(g.invariant,g.Context,g.isEquals,g.extend,p({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["nestable","nestable-"+t.group,t.rtl?"nestable-rtl":""]},[n("ol",{staticClass:"nestable-list nestable-group"},[t.listIsEmpty?n("Placeholder",{attrs:{options:t.itemOptions}},[t._t("placeholder",[t._v("\n        No content\n      ")])],2):t._e(),t._v(" "),t._l(t.value,(function(e,r){return[n("NestableItem",{key:e[t.keyProp],attrs:{index:r,item:e,options:t.itemOptions},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots),(function(e){return{key:e,fn:function(n){return[t._t(e,null,null,n)]}}}))],null,!0)})]}))],2),t._v(" "),t.dragItem?[n("div",{staticClass:"nestable-drag-layer"},[n("ol",{staticClass:"nestable-list",style:t.listStyles},[n("NestableItem",{attrs:{item:t.dragItem,options:t.itemOptions,"is-copy":!0},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots),(function(e){return{key:e,fn:function(n){return[t._t(e,null,null,n)]}}}))],null,!0)})],1)])]:t._e()],2)},staticRenderFns:[]},void 0,{name:"VueNestable",components:{NestableItem:m,Placeholder:v},mixins:[y,h,{methods:{hook:function(t,e){if(!this.hooks[t])return!0;var n=this.hooks[t](e);return n||void 0===n}}}],props:{value:{type:Array,required:!0,default:function(){return[]}},threshold:{type:Number,required:!1,default:30},maxDepth:{type:Number,required:!1,default:10},keyProp:{type:String,required:!1,default:"id"},classProp:{type:String,required:!1,default:null},group:{type:[String,Number],required:!1,default:function(){return Math.random().toString(36).slice(2)}},childrenProp:{type:String,required:!1,default:"children"},collapsed:{type:Boolean,required:!1,default:!1},hooks:{type:Object,required:!1,default:function(){return{}}},rtl:{type:Boolean,required:!1,default:!1}},provide:function(){return{listId:this.listId,group:this.group,keyProp:this.keyProp,onDragEnd:this.onDragEnd}},data:function(){return{itemsOld:null,dragItem:null,mouse:{last:{x:0},shift:{x:0}},el:null,elCopyStyles:null,isDirty:!1,collapsedGroups:[],listId:Math.random().toString(36).slice(2)}},computed:{listIsEmpty:function(){return 0===this.value.length},itemOptions:function(){return{dragItem:this.dragItem,keyProp:this.keyProp,classProp:this.classProp,childrenProp:this.childrenProp}},listStyles:function(){var t=document.querySelector(".nestable-"+this.group+" .nestable-item-"+this.dragItem[this.keyProp]),e={};return t&&(e.width="".concat(t.clientWidth,"px")),this.elCopyStyles&&(e=i(i({},e),this.elCopyStyles)),e}},created:function(){var t=function t(e,n){return e.map((function(e){return i(i({},e),{},r({},n,e[n]?t(e[n],n):[]))}))}(this.value,this.childrenProp);this.$emit("input",t),this.isDirty=!1,this.registerNestable(this)},beforeDestroy:function(){this.stopTrackMouse()},methods:{startTrackMouse:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("touchcancel",this.onDragEnd),document.addEventListener("keydown",this.onKeyDown)},stopTrackMouse:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("touchcancel",this.onDragEnd),document.removeEventListener("keydown",this.onKeyDown),this.elCopyStyles=null},onDragStart:function(t,e){var n=this;t&&(t.preventDefault(),t.stopPropagation()),this.el=t.target.closest(".nestable-item"),this.startTrackMouse(),this.dragItem=e,this.itemsOld=this.value,this.$nextTick((function(){n.onMouseMove(t)}))},onDragEnd:function(t,e){t&&t.preventDefault(),this.stopTrackMouse(),this.el=null,e?this.dragRevert():this.dragApply()},onKeyDown:function(t){27===t.which&&this.onDragEnd(null,!0)},getXandYFromEvent:function(t){var e=t.clientX,n=t.clientY,r=t.targetTouches;if(r){var o=r[0];e=o.clientX,n=o.clientY;var i=new Event("mouseenter"),a=document.elementFromPoint(e,n),s=a&&(a.closest(".nestable-item-content")||a.closest(".nestable-list-empty"));s&&s.dispatchEvent(i)}return{clientX:e,clientY:n}},onMouseMove:function(t){t&&t.preventDefault();var e=this.getXandYFromEvent(t),n=e.clientX,r=e.clientY;0===this.mouse.last.x&&(this.mouse.last.x=n);var o=function(t,e){return{transform:"translate("+t+"px, "+e+"px)"}}(n,r),a=document.querySelector(".nestable-"+this.group+" .nestable-drag-layer");if(a){var s,u=a.getBoundingClientRect(),l=u.top,c=u.left,d=document.querySelector(".nestable-"+this.group+" .nestable-drag-layer > .nestable-list");if(this.elCopyStyles){if(this.elCopyStyles=i(i({},this.elCopyStyles),o),d)for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(d.style[h]=o[h]);var p=this.rtl?this.mouse.last.x-n:n-this.mouse.last.x;p>=0&&this.mouse.shift.x>=0||p<=0&&this.mouse.shift.x<=0?this.mouse.shift.x+=p:this.mouse.shift.x=0,this.mouse.last.x=n,Math.abs(this.mouse.shift.x)>this.threshold&&(this.mouse.shift.x>0?this.tryIncreaseDepth(this.dragItem):this.tryDecreaseDepth(this.dragItem),this.mouse.shift.x=0)}else{var f=(s=this.el.getBoundingClientRect(),{top:Math.round(s.top),left:Math.round(s.left)});this.elCopyStyles=i({marginTop:"".concat(f.top-r-l,"px"),marginLeft:"".concat(f.left-n-c,"px")},o)}}},moveItem:function(t){var e=t.dragItem,n=t.pathFrom,r=t.pathTo,o=this.getRealNextPath(n,r),i=this.getSplicePath(n,{numToRemove:1,childrenProp:this.childrenProp}),a=this.getSplicePath(o,{numToRemove:0,itemsToInsert:[e],childrenProp:this.childrenProp});if(this.hook("beforeMove",{dragItem:e,pathFrom:n,pathTo:o})){var s=this.value;s=b(s,i),s=b(s,a),this.isDirty=!0,this.pathTo=o,this.$emit("input",s)}},tryIncreaseDepth:function(t){var e=this.getPathById(t[this.keyProp]),n=e[e.length-1],r=e.length+this.getItemDepth(t);if(n>0&&r<=this.maxDepth){var o=this.getItemByPath(e.slice(0,-1).concat(n-1));if(o[this.childrenProp]&&(!o[this.childrenProp].length||!this.isCollapsed(o))){var i=e.slice(0,-1).concat(n-1).concat(o[this.childrenProp].length);this.moveItem({dragItem:t,pathFrom:e,pathTo:i})}}},tryDecreaseDepth:function(t){var e=this.getPathById(t[this.keyProp]),n=e[e.length-1];if(e.length>1&&n+1===this.getItemByPath(e.slice(0,-1))[this.childrenProp].length){var r=e.slice(0,-1);r[r.length-1]+=1,this.moveItem({dragItem:t,pathFrom:e,pathTo:r})}},onMouseEnter:function(t,e,n){t&&(t.preventDefault(),t.stopPropagation());var r=this.dragItem;if(r&&(null===n||r[this.keyProp]!==n[this.keyProp])){var o,i=this.getPathById(r[this.keyProp]);if(!(e!==this.listId&&0===i.length||(o=null===n?i.length>0?[]:[0]:this.getPathById(n[this.keyProp]),this.getRealNextPath(i,o).length+(this.getItemDepth(r)-1)>this.maxDepth))){var a={};if(this.collapsed&&i.length>1){var s=this.getItemByPath(i.slice(0,-1));1===s[this.childrenProp].length&&(a=this.onToggleCollapse(s,!0))}this.moveItem({dragItem:r,pathFrom:i,pathTo:o},a)}}},isCollapsed:function(t){return!!(this.collapsedGroups.indexOf(t[this.keyProp])>-1^this.collapsed)},dragApply:function(){this.$emit("change",this.dragItem,{items:this.value,pathTo:this.pathTo}),this.pathTo=null,this.itemsOld=null,this.dragItem=null,this.isDirty=!1},dragRevert:function(){this.$emit("input",this.itemsOld),this.pathTo=null,this.itemsOld=null,this.dragItem=null,this.isDirty=!1}}},void 0,!1,void 0,!1,void 0,void 0,void 0)),x=p({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"nestable-handle",attrs:{draggable:""},on:{dragstart:this.dragstart,touchstart:this.dragstart,touchend:this.touchend,touchmove:this.touchmove}},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"VueNestableHandle",mixins:[h],props:{item:{type:Object,required:!1,default:function(){return{}}}},inject:["group","onDragEnd"],methods:{dragstart:function(t){var e=this.item||this.$parent.item;this.notifyDragStart(this.group,t,e)},touchend:function(t){this.onDragEnd(t)},touchmove:function(t){this.notifyMouseMove(this.group,t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),w={install:function(t,e){t.component("VueNestable",_),t.component("VueNestableHandle",x)}};e.VueNestable=_,e.VueNestableHandle=x,e.default=w,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n("8oxB"))}}]);